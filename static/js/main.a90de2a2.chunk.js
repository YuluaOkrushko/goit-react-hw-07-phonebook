(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{18:function(t,e,n){t.exports={item:"ContactList_item__1i5I9",list:"ContactList_list__3mDjR",button:"ContactList_button__27DiQ",enter:"ContactList_enter__1EVU2",enterActive:"ContactList_enterActive__2kJim",exit:"ContactList_exit__U11eA",exitActive:"ContactList_exitActive__3dwa-"}},22:function(t,e,n){t.exports={wrapper:"Filter_wrapper__2YIDM",title:"Filter_title__1hRUA",input:"Filter_input__3L2gf"}},27:function(t,e,n){t.exports={wrapper:"App_wrapper__28UBX",title:"App_title__pAiRz",item:"App_item__1l2LW",appear:"App_appear__2MRft",appearActive:"App_appearActive__UxOMY",enter:"App_enter__3NjOc",enterActive:"App_enterActive__1-60L",exit:"App_exit__dchdI",exitActive:"App_exitActive__3X8pP"}},69:function(t,e,n){"use strict";n.r(e);var c,a=n(1),r=n(0),o=n(9),i=n.n(o),s=n(8),u=n(12),l=n(13),p=n(16),b=n(15),d=n(70),h=n(10),j=n(21),_=n.n(j),m=n(2),f={addContactRequest:Object(m.b)("contact/addRequest"),addContactSuccess:Object(m.b)("contact/addSuccess"),addContactError:Object(m.b)("contact/addError"),fetchContactsRequest:Object(m.b)("contact/fetchRequest"),fetchContactsSuccess:Object(m.b)("contact/fetchSuccess"),fetchContactsError:Object(m.b)("contact/fetchError"),deleteContactRequest:Object(m.b)("contact/deleteRequest"),deleteContactSuccess:Object(m.b)("contact/deleteSuccess"),deleteContactError:Object(m.b)("contact/deleteError")},C={addContact:function(t){var e=t.name,n=t.number;return function(t){t(f.addContactRequest()),_.a.post("http://localhost:2000/contacts",{name:e,number:n}).then((function(e){var n=e.data;t(f.addContactSuccess(n))})).catch((function(e){return t(f.addContactError(e))}))}},deleteContact:function(t){return function(e){e(f.deleteContactRequest()),_.a.delete("http://localhost:2000/contacts/".concat(t)).then((function(){e(f.deleteContactSuccess(t))})).catch((function(t){return e(f.deleteContactError(t))}))}},fetchContacts:function(){return function(t){t(f.fetchContactsRequest()),_.a.get("http://localhost:2000/contacts").then((function(e){var n=e.data;return t(f.fetchContactsSuccess(n))})).catch((function(e){return t(f.fetchContactsError(e))}))}}},O=n(11),x=function(t){return t.contacts.phoneBookReducer},v=function(t){return t.filter.filterContactReducer},w={getContacts:x,getFilter:v,getVisibleContacts:Object(O.a)([x,v],(function(t,e){return t.filter((function(t){return!e||t.name.toLowerCase().includes(e)}))}))},A=n(7),S=n.n(A),N=n(38),g=n.n(N),F=function(t){Object(p.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(u.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:"",isExist:!1,duplicateContact:""},t.handleChange=function(e){var n=e.target,c=n.name,a=n.value;t.setState(Object(h.a)({},c,a))},t.handleSubmit=function(e){e.preventDefault();var n=t.state.name;t.props.contacts.map((function(t){return t.name.toLowerCase()})).includes(n.toLowerCase())?(t.setState({isExist:!0,duplicateContact:n}),setTimeout((function(){return t.setState({isExist:!1,duplicateContact:""})}),5e3)):(t.props.onSubmit(t.state),t.setState({name:"",number:"",isExist:!1,duplicateContact:""}))},t.handleCloseErrorWindow=function(){t.setState({isExist:!1})},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,c=t.isExist,r=t.duplicateContact;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(d.a,{in:!0,appear:!0,timeout:500,classNames:S.a,unmountOnExit:!0,children:Object(a.jsx)("h1",{className:S.a.title_phonebook,children:"Phonebook"})}),Object(a.jsx)(d.a,{in:c,timeout:250,classNames:S.a,unmountOnExit:!0,children:Object(a.jsxs)("div",{onClick:this.handleCloseErrorWindow,className:S.a.error,children:[r," already exist!"]})})]}),Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsx)("label",{children:Object(a.jsxs)("div",{className:S.a.wrapper,children:[Object(a.jsx)("h3",{className:S.a.title_item,children:"Name"}),Object(a.jsx)("input",{className:S.a.input,type:"text",autoComplete:"off",value:e,name:"name",onChange:this.handleChange})]})}),Object(a.jsx)("label",{children:Object(a.jsxs)("div",{className:S.a.wrapper,children:[Object(a.jsx)("h3",{className:S.a.title_item,children:"Number"}),Object(a.jsx)(g.a,{mask:"999-99-99",className:S.a.input,type:"tel",autoComplete:"off",onChange:this.handleChange,value:n,name:"number",placeholder:"000-00-00",pattern:"[0-9]{3}-[0-9]{2}-[0-9]{2}"})]})}),Object(a.jsx)("div",{className:S.a.button_wrapper,children:Object(a.jsx)("button",{className:S.a.button,type:"submit",disabled:""===e||""===n,children:"Add contact"})})]})]})}}]),n}(r.Component),y=Object(s.b)((function(t){return{contacts:w.getContacts(t)}}),(function(t){return{onSubmit:function(e){return t(C.addContact(e))}}}))(F),E=n(71),k=n(18),R=n.n(k),L=function(t){Object(p.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(u.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).handleDeleteContact=function(e){return function(){(0,t.props.deleteContact)(e)}},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this,e=this.props.contacts;return Object(a.jsx)(E.a,{component:"ul",className:R.a.item,children:e.map((function(e){return Object(a.jsx)(d.a,{timeout:250,classNames:R.a,children:Object(a.jsxs)("li",{className:R.a.list,children:[e.name," : ",e.number,Object(a.jsx)("button",{className:R.a.button,id:e.id,onClick:t.handleDeleteContact(e.id),children:"Delete"})]})},e.id)}))})}}]),n}(r.Component),q=Object(s.b)((function(t){return{contacts:w.getVisibleContacts(t)}}),(function(t){return{deleteContact:function(e){return t(C.deleteContact(e))}}}))(L),D=Object(m.b)("contact/filter",(function(t){return{payload:{value:t}}})),U=n(22),B=n.n(U),M=Object(s.b)((function(t){return{filter:w.getFilter(t)}}),(function(t){return{onFilter:function(e){return t(D(e.target.value))}}}))((function(t){var e=t.value,n=t.onFilter;return Object(a.jsxs)("div",{className:B.a.wrapper,children:[Object(a.jsx)("p",{className:B.a.title,children:"Find contact"}),Object(a.jsx)("input",{className:B.a.input,type:"text",autoComplete:"off",onChange:n,value:e,name:"filter"})]})})),J=n(27),I=n.n(J),V=function(t){Object(p.a)(n,t);var e=Object(b.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){var t=this.props.contacts;return Object(a.jsxs)("div",{className:I.a.wrapper,children:[Object(a.jsx)(y,{}),Object(a.jsx)(d.a,{in:t.length>1,timeout:500,classNames:I.a,unmountOnExit:!0,children:Object(a.jsx)(M,{})}),Object(a.jsx)(q,{})]})}}]),n}(r.Component),W={onFetchContacts:C.fetchContacts},X=Object(s.b)((function(t){return{contacts:w.getContacts(t)}}),W)(V),z=n(20),P=n(3),T=Object(m.c)([],(c={},Object(h.a)(c,f.fetchContactsSuccess,(function(t,e){return e.payload})),Object(h.a)(c,f.addContactSuccess,(function(t,e){return[].concat(Object(z.a)(t),[e.payload])})),Object(h.a)(c,f.deleteContactSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),c)),Y=Object(P.c)({phoneBookReducer:T}),H=Object(m.c)("",Object(h.a)({},D,(function(t,e){return e.payload.value}))),K=Object(P.c)({filterContactReducer:H}),Q=Object(m.d)({serializableCheck:!1}),G=Object(m.a)({reducer:{contacts:Y,filter:K},middleware:Object(z.a)(Q)});i.a.render(Object(a.jsx)(s.a,{store:G,children:Object(a.jsx)(X,{})}),document.querySelector("#root"))},7:function(t,e,n){t.exports={wrapper:"ContactForm_wrapper__2fR0L",title:"ContactForm_title__3SAbK",title_phonebook:"ContactForm_title_phonebook__2ow0J",input:"ContactForm_input__3wXTl",button_wrapper:"ContactForm_button_wrapper__28yfU",button:"ContactForm_button__1dBHS",title_item:"ContactForm_title_item__15vMb",appear:"ContactForm_appear___v4Fi",appearActive:"ContactForm_appearActive__B-SUh",error:"ContactForm_error__1cUuF"}}},[[69,1,2]]]);
//# sourceMappingURL=main.a90de2a2.chunk.js.map